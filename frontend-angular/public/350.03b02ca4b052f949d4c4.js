(self.webpackChunkmbti_assessment_client_app=self.webpackChunkmbti_assessment_client_app||[]).push([[350],{9350:(r,e,s)=>{"use strict";s.r(e),s.d(e,{AuthModule:()=>ar});var t=s(1462),i=s(1671),n=s(3395),a=s(8699),o=s(4154),l=s(5976),d=s(8376),u=s(5366),c=s(1116);function m(r,e){if(1&r&&(u.TgZ(0,"div",27),u._uU(1),u.qZA()),2&r){const r=e.ngIf;u.xp6(1),u.hij(" ",r," ")}}function g(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",30),u._uU(2,"\xa0 Username is required. "),u.qZA())}function Z(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",30),u._uU(2,"\xa0 Username must be at least 5 characters long. "),u.qZA())}function f(r,e){if(1&r&&(u.TgZ(0,"div",28),u.YNc(1,g,3,0,"div",29),u.YNc(2,Z,3,0,"div",29),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.username.errors?null:r.username.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.username.errors?null:r.username.errors.minlength)}}function p(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",30),u._uU(2,"\xa0 Password is required. "),u.qZA())}function h(r,e){if(1&r&&(u.TgZ(0,"div",28),u.YNc(1,p,3,0,"div",29),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.required)}}const v=function(r){return{"is-invalid":r}};let q=(()=>{class r{constructor(r,e){this.formBuilder=r,this.store=e}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",[t.kI.required,t.kI.minLength(5)]],password:["",t.kI.required]}),this.onLoginError$=this.store.pipe((0,i.Ys)(d.Hn))}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}get isUsernameInvalid(){return this.username.invalid&&(this.username.dirty||this.username.touched)}get isPasswordInvalid(){return this.password.invalid&&(this.password.dirty||this.password.touched)}onLogin(){this.store.dispatch(l.Kn({userCredentials:{username:this.username.value,password:this.password.value}}))}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(t.qu),u.Y36(i.yh))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-login"]],decls:42,vars:13,consts:[[1,"container","text-dark",2,"margin-top","20px"],[1,"d-flex","justify-content-center"],[1,"col-md-7","col-sm-12"],[1,"card-group","mb-0"],[1,"card","user_card","p-2"],[1,"d-flex","flex-column","justify-content-center","align-items-center","my-5"],["class","error-message mb-4 align-self-stretch",4,"ngIf"],[1,"h-100","d-flex","justify-content-center","form_container"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","formControlName","username","placeholder","Username",1,"form-control",3,"ngClass"],["class","invalid-feedback validator-error mt-2",4,"ngIf"],[1,"fas","fa-key"],["type","password","formControlName","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-center","mt-5","login_container"],["type","submit","name","button",1,"btn","btn-primary",3,"disabled"],[1,"mt-4"],[1,"d-flex","justify-content-center","mb-4"],["type","button",1,"btn","btn-link","px-0"],[1,"card","bg-lightgray","py-5","d-md-down-none"],[1,"card-body","text-center","my-5"],[1,"h-100","d-flex","flex-column","justify-content-center"],[1,"text-center"],["type","button","routerLink","/auth/register",1,"btn","btn-primary","mt-5"],[1,"error-message","mb-4","align-self-stretch"],[1,"invalid-feedback","validator-error","mt-2"],[4,"ngIf"],[1,"fas","fa-window-close"]],template:function(r,e){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div"),u.TgZ(7,"h3"),u._uU(8,"Lunatech MBTI"),u.qZA(),u.qZA(),u.YNc(9,m,2,1,"div",6),u.ALo(10,"async"),u.qZA(),u.TgZ(11,"div",7),u.TgZ(12,"form",8),u.NdJ("ngSubmit",function(){return e.onLogin()}),u.TgZ(13,"div",9),u.TgZ(14,"div",10),u.TgZ(15,"span",11),u._UZ(16,"i",12),u.qZA(),u._UZ(17,"input",13),u.YNc(18,f,3,2,"div",14),u.qZA(),u.qZA(),u.TgZ(19,"div",9),u.TgZ(20,"div",10),u.TgZ(21,"span",11),u._UZ(22,"i",15),u.qZA(),u._UZ(23,"input",16),u.YNc(24,h,2,1,"div",14),u.qZA(),u.qZA(),u.TgZ(25,"div",17),u.TgZ(26,"button",18),u.TgZ(27,"span"),u._uU(28,"Login"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(29,"div",19),u.TgZ(30,"div",20),u.TgZ(31,"button",21),u._uU(32," Forgot password? "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(33,"div",22),u.TgZ(34,"div",23),u.TgZ(35,"div",24),u.TgZ(36,"h2"),u._uU(37,"Sign up"),u.qZA(),u.TgZ(38,"div",25),u._uU(39,"Don't have an account?"),u.qZA(),u.TgZ(40,"button",26),u._uU(41," Register Now! "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(9),u.Q6J("ngIf",e.loginForm.valid&&u.lcZ(10,7,e.onLoginError$)),u.xp6(3),u.Q6J("formGroup",e.loginForm),u.xp6(5),u.Q6J("ngClass",u.VKq(9,v,e.isUsernameInvalid)),u.xp6(1),u.Q6J("ngIf",e.isUsernameInvalid),u.xp6(5),u.Q6J("ngClass",u.VKq(11,v,e.isPasswordInvalid)),u.xp6(1),u.Q6J("ngIf",e.isPasswordInvalid),u.xp6(2),u.Q6J("disabled",e.loginForm.invalid))},directives:[c.O5,t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u,c.mk,o.rH],pipes:[c.Ov],styles:[""]}),r})();class A{static patternValidator(r,e){return s=>s.value?r.test(s.value)?null:e:null}static passwordMatchValidator(r){r.get("password").value!==r.get("confirmPassword").value&&r.get("confirmPassword").setErrors({noPassswordMatch:!0})}}function w(r,e){if(1&r&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&r){const r=e.ngIf;u.xp6(1),u.hij(" ",r," ")}}function T(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 FirstName is required. "),u.qZA())}function N(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 FirstName must be at least 3 characters long. "),u.qZA())}function U(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Please enter a valid FirstName. "),u.qZA())}function x(r,e){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,T,3,0,"div",32),u.YNc(2,N,3,0,"div",32),u.YNc(3,U,3,0,"div",32),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.firstName.errors?null:r.firstName.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.firstName.errors?null:r.firstName.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==r.firstName.errors?null:r.firstName.errors.pattern)}}function _(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 LastName is required. "),u.qZA())}function I(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 LastName must be at least 3 characters long. "),u.qZA())}function y(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Please enter a valid lastName. "),u.qZA())}function b(r,e){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,_,3,0,"div",32),u.YNc(2,I,3,0,"div",32),u.YNc(3,y,3,0,"div",32),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.lastName.errors?null:r.lastName.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.lastName.errors?null:r.lastName.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==r.lastName.errors?null:r.lastName.errors.pattern)}}function J(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Username is required. "),u.qZA())}function P(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Username must be at least 5 characters long. "),u.qZA())}function Q(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Please enter a valid username. "),u.qZA())}function Y(r,e){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,J,3,0,"div",32),u.YNc(2,P,3,0,"div",32),u.YNc(3,Q,3,0,"div",32),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.username.errors?null:r.username.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.username.errors?null:r.username.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==r.username.errors?null:r.username.errors.pattern)}}function C(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Email is required. "),u.qZA())}function k(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Please enter a valid email address as 'user@example.com' . "),u.qZA())}function L(r,e){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,C,3,0,"div",32),u.YNc(2,k,3,0,"div",32),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.email.errors?null:r.email.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.email.errors?null:r.email.errors.pattern)}}function F(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Password is required. "),u.qZA())}function V(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Must have at least 1 number! "),u.qZA())}function j(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Must have at least one uppercase character! "),u.qZA())}function S(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Must have at least one lowercase character! "),u.qZA())}function $(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Must have at least one special character! "),u.qZA())}function B(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Must have at least 8 characters in length! "),u.qZA())}function M(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Must have at most 20 characters in length! "),u.qZA())}function z(r,e){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,F,3,0,"div",32),u.YNc(2,V,3,0,"div",32),u.YNc(3,j,3,0,"div",32),u.YNc(4,S,3,0,"div",32),u.YNc(5,$,3,0,"div",32),u.YNc(6,B,3,0,"div",32),u.YNc(7,M,3,0,"div",32),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.hasNumber),u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.hasUpperCase),u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.hasLowerCase),u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.hasSpecialCharacters),u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==r.password.errors?null:r.password.errors.maxlength)}}function E(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Confirm Password is required. "),u.qZA())}function W(r,e){1&r&&(u.TgZ(0,"div"),u._UZ(1,"i",33),u._uU(2,"\xa0 Passwords don't match "),u.qZA())}function O(r,e){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,E,3,0,"div",32),u.YNc(2,W,3,0,"div",32),u.qZA()),2&r){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.confirmPassword.errors?null:r.confirmPassword.errors.noPassswordMatch)}}const G=function(r,e){return{"is-invalid":r,"is-valid":e}},R=[{path:"login",component:q},{path:"register",component:(()=>{class r{constructor(r,e){this.formBuilder=r,this.store=e,this.namePattern="^[a-zA-Z]+(([' -][a-zA-Z ])?[a-zA-Z]*)*$",this.usernamePattern="^[a-z0-9_-]{5,15}$",this.passwordPattern="^(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{8,15}$",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$"}ngOnInit(){this.registrationForm=this.formBuilder.group({firstName:["",[t.kI.required,t.kI.minLength(3),t.kI.pattern(this.namePattern)]],lastName:["",[t.kI.required,t.kI.minLength(3),t.kI.pattern(this.namePattern)]],username:["",[t.kI.required,t.kI.minLength(5),t.kI.pattern(this.usernamePattern)]],email:["",[t.kI.required,t.kI.pattern(this.emailPattern)]],password:["",[t.kI.required,A.patternValidator(/\d/,{hasNumber:!0}),A.patternValidator(/[A-Z]/,{hasUpperCase:!0}),A.patternValidator(/[a-z]/,{hasLowerCase:!0}),A.patternValidator(/[!?@#$%^&%*:,.;'"_=\-\+<>]/,{hasSpecialCharacters:!0}),t.kI.minLength(8),t.kI.maxLength(20)]],confirmPassword:["",[t.kI.required]]},{validator:A.passwordMatchValidator}),this.onRegisterError$=this.store.pipe((0,i.Ys)(d.Hn))}get firstName(){return this.registrationForm.get("firstName")}get lastName(){return this.registrationForm.get("lastName")}get username(){return this.registrationForm.get("username")}get email(){return this.registrationForm.get("email")}get password(){return this.registrationForm.get("password")}get confirmPassword(){return this.registrationForm.get("confirmPassword")}get isFirstNameInvalid(){return this.firstName.invalid&&(this.firstName.dirty||this.firstName.touched)}get isFirstNameValid(){return this.firstName.valid&&(this.firstName.dirty||this.firstName.touched)}get isLastNameInvalid(){return this.lastName.invalid&&(this.lastName.dirty||this.lastName.touched)}get isLastNameValid(){return this.lastName.valid&&(this.lastName.dirty||this.lastName.touched)}get isUsernameInvalid(){return this.username.invalid&&(this.username.dirty||this.username.touched)}get isUsernameValid(){return this.username.valid&&(this.username.dirty||this.username.touched)}get isEmailInvalid(){return this.email.invalid&&(this.email.dirty||this.email.touched)}get isEmailValid(){return this.email.valid&&(this.email.dirty||this.email.touched)}get isPasswordInvalid(){return this.password.invalid&&(this.password.dirty||this.password.touched)}get isPasswordValid(){return this.password.valid&&(this.password.dirty||this.password.touched)}get isConfirmPasswordInvalid(){return this.confirmPassword.invalid&&(this.confirmPassword.dirty||this.confirmPassword.touched)}get isConfirmPasswordValid(){return this.confirmPassword.valid&&(this.confirmPassword.dirty||this.confirmPassword.touched)}onRegister(){this.store.dispatch(l.de({userForm:{lastName:this.lastName.value,firstName:this.firstName.value,email:this.email.value,username:this.username.value,password:this.password.value}}))}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(t.qu),u.Y36(i.yh))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-register"]],decls:62,vars:35,consts:[[1,"container","text-dark",2,"margin-top","20px"],[1,"d-flex","justify-content-center"],[1,"col-md-7","col-sm-12"],[1,"card-group","mb-0"],[1,"card","user_card","user-card-register","p-2"],[1,"d-flex","flex-column","justify-content-center","align-items-center","my-5"],["class","error-message mb-4 align-self-stretch",4,"ngIf"],[1,"d-flex","justify-content-center","form_container"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","maxlength","30","formControlName","firstName","placeholder","FirstName",1,"form-control",3,"ngClass"],["class","invalid-feedback validator-error mt-2",4,"ngIf"],["type","text","maxlength","30","formControlName","lastName","placeholder","LastName",1,"form-control",3,"ngClass"],["type","text","maxlength","15","formControlName","username","placeholder","Username",1,"form-control",3,"ngClass"],[1,"fas","fa-envelope"],["type","text","maxlength","30","formControlName","email","placeholder","email",1,"form-control",3,"ngClass"],[1,"fas","fa-unlock"],["type","password","formControlName","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"fas","fa-lock"],["type","password","maxlength","15","formControlName","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-center","mt-5","login_container"],["type","submit","name","button",1,"btn","btn-primary","mb-4",3,"disabled"],[1,"card","bg-lightgray","py-5","d-md-down-none"],[1,"card-body","text-center","my-5"],[1,"h-100","d-flex","flex-column","justify-content-center"],[1,"text-center"],["type","button","routerLink","/auth/login",1,"btn","btn-primary","mt-5"],[1,"error-message","mb-4","align-self-stretch"],[1,"invalid-feedback","validator-error","mt-2"],[4,"ngIf"],[1,"fas","fa-window-close"]],template:function(r,e){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div"),u.TgZ(7,"h3"),u._uU(8,"Lunatech MBTI"),u.qZA(),u.qZA(),u.YNc(9,w,2,1,"div",6),u.ALo(10,"async"),u.qZA(),u.TgZ(11,"div",7),u.TgZ(12,"form",8),u.NdJ("ngSubmit",function(){return e.onRegister()}),u.TgZ(13,"div",9),u.TgZ(14,"div",10),u.TgZ(15,"span",11),u._UZ(16,"i",12),u.qZA(),u._UZ(17,"input",13),u.YNc(18,x,4,3,"div",14),u.qZA(),u.qZA(),u.TgZ(19,"div",9),u.TgZ(20,"div",10),u.TgZ(21,"span",11),u._UZ(22,"i",12),u.qZA(),u._UZ(23,"input",15),u.YNc(24,b,4,3,"div",14),u.qZA(),u.qZA(),u.TgZ(25,"div",9),u.TgZ(26,"div",10),u.TgZ(27,"span",11),u._UZ(28,"i",12),u.qZA(),u._UZ(29,"input",16),u.YNc(30,Y,4,3,"div",14),u.qZA(),u.qZA(),u.TgZ(31,"div",9),u.TgZ(32,"div",10),u.TgZ(33,"span",11),u._UZ(34,"i",17),u.qZA(),u._UZ(35,"input",18),u.YNc(36,L,3,2,"div",14),u.qZA(),u.qZA(),u.TgZ(37,"div",9),u.TgZ(38,"div",10),u.TgZ(39,"span",11),u._UZ(40,"i",19),u.qZA(),u._UZ(41,"input",20),u.YNc(42,z,8,7,"div",14),u.qZA(),u.qZA(),u.TgZ(43,"div",9),u.TgZ(44,"div",10),u.TgZ(45,"span",11),u._UZ(46,"i",21),u.qZA(),u._UZ(47,"input",22),u.YNc(48,O,3,2,"div",14),u.qZA(),u.qZA(),u.TgZ(49,"div",23),u.TgZ(50,"button",24),u.TgZ(51,"span"),u._uU(52,"Register"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(53,"div",25),u.TgZ(54,"div",26),u.TgZ(55,"div",27),u.TgZ(56,"h2"),u._uU(57,"Sign in"),u.qZA(),u.TgZ(58,"div",28),u._uU(59,"Already have an account?"),u.qZA(),u.TgZ(60,"button",29),u._uU(61," Login! "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(9),u.Q6J("ngIf",e.registrationForm.valid&&u.lcZ(10,15,e.onRegisterError$)),u.xp6(3),u.Q6J("formGroup",e.registrationForm),u.xp6(5),u.Q6J("ngClass",u.WLB(17,G,e.isFirstNameInvalid,e.isFirstNameValid)),u.xp6(1),u.Q6J("ngIf",e.isFirstNameInvalid),u.xp6(5),u.Q6J("ngClass",u.WLB(20,G,e.isLastNameInvalid,e.isLastNameValid)),u.xp6(1),u.Q6J("ngIf",e.isLastNameInvalid),u.xp6(5),u.Q6J("ngClass",u.WLB(23,G,e.isUsernameInvalid,e.isUsernameValid)),u.xp6(1),u.Q6J("ngIf",e.isUsernameInvalid),u.xp6(5),u.Q6J("ngClass",u.WLB(26,G,e.isEmailInvalid,e.isEmailValid)),u.xp6(1),u.Q6J("ngIf",e.isEmailInvalid),u.xp6(5),u.Q6J("ngClass",u.WLB(29,G,e.isPasswordInvalid,e.isPasswordValid)),u.xp6(1),u.Q6J("ngIf",e.isPasswordInvalid),u.xp6(5),u.Q6J("ngClass",u.WLB(32,G,e.isConfirmPasswordInvalid,e.isConfirmPasswordValid)),u.xp6(1),u.Q6J("ngIf",e.isConfirmPasswordInvalid),u.xp6(2),u.Q6J("disabled",e.registrationForm.invalid))},directives:[c.O5,t._Y,t.JL,t.sg,t.Fj,t.nD,t.JJ,t.u,c.mk,o.rH],pipes:[c.Ov],styles:[""]}),r})()}];let K=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[o.Bz.forChild(R)],o.Bz]}),r})();var H=s(8018),X=s(436),D=s(9996),rr=s(7727),er=s(6599),sr=s(878),tr=function(r){return r.AUTHORIZATION="Authorization",r.JWT_TOKEN="Jwt-Token",r}({}),ir=s(663);let nr=(()=>{class r{constructor(r,e){this.actions$=r,this.authService=e,this.login$=(0,n.GW)(()=>this.actions$.pipe((0,n.l4)(l.Kn),(0,X.b)(r=>this.authService.login(r.userCredentials).pipe((0,D.U)(r=>{const e=r.headers.get(tr.JWT_TOKEN),s=r.body,t={header:"Login Notification",body:`Successfully logged in. Welcome again ${s.firstName}.`};return this.authService.saveToken(e),this.authService.addUserToLocalCache(r.body),l.he({user:s,token:e,notificationMsg:t})}),(0,rr.K)(r=>{let e;return e=r.error.message?r.error.message:r.error.messages?r.error.messages.join("-"):"An error occurred. Please try again.",(0,sr.of)(l.UR({error:e}))}))))),this.register$=(0,n.GW)(()=>this.actions$.pipe((0,n.l4)(l.de),(0,X.b)(r=>this.authService.register(r.userForm).pipe((0,D.U)(r=>l.pV({notificationMsg:{header:"Registration Notification",body:`A new account was created for ${r.firstName}.\n          You can now log in.`}})),(0,rr.K)(r=>(0,sr.of)(l.TY(r.error.message?{error:r.error.message}:{error:"An error occurred. Please try again."}))))))),this.logout$=(0,n.GW)(()=>this.actions$.pipe((0,n.l4)(l.kS),(0,er.b)(()=>{this.authService.logOut()})),{dispatch:!1})}}return r.\u0275fac=function(e){return new(e||r)(u.LFG(n.eX),u.LFG(ir.e))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),ar=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[a.s,K,t.UX,i.Aw.forFeature(H.Dm,H.I6),n.sQ.forFeature([nr])]]}),r})()}}]);